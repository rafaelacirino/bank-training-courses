# =============================================
#  Training Courses - Application Configuration
# =============================================
spring:
  application:
    name: training-courses

  # ---------- In memory H2 Database ----------
  datasource:
    url: jdbc:h2:mem:trainingcoursesdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
    driver-class-name: org.h2.Driver
    username: tc
    password: trainingcourses1234

  # ---------- JPA / Hibernate ----------
  jpa:
    hibernate:
      ddl-auto: none
    properties:
      hibernate:
        format_sql: false
        show_sql: false

  # ---------- Database Initialization ----------
  sql:
    init:
      mode: always
      schema-locations: classpath:schema.sql
      data-locations: classpath:data.sql
      continue-on-error: false
      platform: h2

  # ---------- H2 Web Console (dev / test only) ----------
  h2:
    console:
      enabled: true
      path: /h2-console
      settings:
        trace: false
        web-allow-others: false

  # ---------- Spring Data Web - Pagination & Sorting ----------
  data:
    web:
      pageable:
        default-page-size: 10
        max-page-size: 100
        one-indexed-parameters: false
      sort:
        sort-parameter: sort

  # ---------- Cache (Caffeine) ----------
  cache:
    type: caffeine

  # =============================================
  # SpringDoc OpenAPI 3 + Swagger UI
  # =============================================
springdoc:
  api-docs:
    path: /v3/api-docs
  swagger-ui:
    path: /swagger-ui.html
    operationsSorter: alpha
    tagsSorter: alpha
    tryItOutEnabled: true
    displayRequestDuration: true
  use-fqn: true
  packages-to-scan: com.bank.training
  paths-to-match: /api/**
  override-pageable-parameter: true

  # =============================================
  # Logging Configuration
  # =============================================
  logging:
    level:
      org.springframework: INFO
      com.bank.training: DEBUG
      org.springdoc: INFO
    file:
      name: logs/training-courses.log

# =============================================
# Server Configuration
# =============================================
server:
  servlet:
    context-path: /
  port: 8080
  error:
    include-stacktrace: on_param
    include-message: always
